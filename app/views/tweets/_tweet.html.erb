<%= turbo_frame_tag dom_id(tweet_presenter.tweet) do %>
<div class="tweet">
  <div class="d-flex py-3 px-3">
    <div class="flex-shrink-0">
      <%= image_tag tweet_presenter.avatar, size: '48x48', class: 'rounded-circle' %>
    </div>
    <div class="flex-grow-1 ms-3">
      <p class="mb-0">
        <span class="fw-bolder"><%= tweet_presenter.display_name %></span>
        <span class="text-muted">@<%= tweet_presenter.username %> .
          <%= tweet_presenter.created_at %>
        </span>
      </p>
      <p class='mb-0'><%= tweet_presenter.body %></p>
    </div>
  </div>

  <div class="d-flex justify-content-evenly">
    <%= link_to "#", class: 'text-decoration-none text-black action-link views' do %>
      <div><i class="bi bi-bar-chart-fill me-1"></i> <span>Views</span></div>
    <% end %>
    <%= link_to "#", class: 'text-decoration-none text-black action-link replies' do %>
      <div><i class="bi bi-chat me-1"></i> <span>Replies</span></div>
    <% end %>
    <%= link_to "#", class: 'text-decoration-none text-black action-link retweet' do %>
      <div><i class="bi bi-repeat me-1"></i> <span>Retweet</span></div>
    <% end %>
    <% if tweet_presenter.likes.include?(current_user.likes.find_by(tweet_id: tweet_presenter.tweet.id)) %>
      <%= link_to tweet_like_path(tweet_presenter.tweet, tweet_presenter.tweet.likes.find_by(user_id: current_user.id)), data: { 'turbo-method': :delete }, class: 'text-decoration-none text-black action-link likes', remote: true do %>
        <div><i class="bi bi-heart-fill me-1" style="color: red;"></i> <span> <%= tweet_presenter.likes.size %> </span></div>
      <% end %>
    <% else %>
      <%= link_to tweet_likes_path(tweet_presenter.tweet), data: { 'turbo-method': :post }, class: 'text-decoration-none text-black action-link likes', remote: true do %>
        <div><i class="bi bi-heart me-1"></i> <span> <%= tweet_presenter.likes.size %> </span></div>
      <% end %>
    <% end %>
    <%= link_to "#", class: 'text-decoration-none text-black action-link likes' do %>
      <div><i class="bi bi-bookmark me-1"></i> <span>Bookmark</span></div>
    <% end %>
  </div>
</div>
<% end %>
